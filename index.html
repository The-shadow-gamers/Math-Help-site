<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Math Help</title>

  <!-- PWA -->
  <link rel="manifest" href="manifest.json" />

  <!-- Default favicon (your icon.png) -->
  <link id="favicon" rel="icon" type="image/png" href="icon.png" />

  <style>
    :root {
      --bar-h: 56px;
      --bg: #0f172a;           /* slate-900 */
      --panel: #111827;        /* gray-900 */
      --text: #e5e7eb;         /* gray-200 */
      --muted: #9ca3af;        /* gray-400 */
      --btn: #1f2937;          /* gray-800 */
      --btn-hover: #374151;    /* gray-700 */
      --accent: #60a5fa;       /* blue-400 */
    }
    * { box-sizing: border-box; }
    html, body {
      height: 100%;
      margin: 0;
      background: var(--bg);
      color: var(--text);
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    }
    .wrap {
      height: 100%;
      display: grid;
      grid-template-rows: var(--bar-h) 1fr;
    }
    .bar {
      display: flex;
      align-items: center;
      gap: .5rem;
      padding: .5rem .75rem;
      background: linear-gradient(180deg, var(--panel), #0b1220);
      border-bottom: 1px solid #0b1220;
    }
    .brand {
      display: inline-flex;
      align-items: center;
      gap: .5rem;
      padding-right: .5rem;
      margin-right: .5rem;
      border-right: 1px solid #0b1220;
      font-weight: 700;
      letter-spacing: .2px;
      color: var(--muted);
      user-select: none;
    }
    .brand img {
      width: 24px; height: 24px; border-radius: 6px;
    }
    .btn {
      appearance: none;
      border: 1px solid #0b1220;
      background: var(--btn);
      color: var(--text);
      padding: .5rem .75rem;
      border-radius: 10px;
      cursor: pointer;
      font-size: .95rem;
      transition: background .15s ease, transform .02s ease;
    }
    .btn:hover { background: var(--btn-hover); }
    .btn:active { transform: translateY(1px); }
    .btn.clear { color: #fca5a5; border-color: #4b1010; }
    .hint { margin-left: auto; color: var(--muted); font-size: .9rem; }

    iframe {
      width: 100%;
      height: 100%;
      border: none;
      background: #000;
    }

    /* Small screens */
    @media (max-width: 720px) {
      .hint { display: none; }
      .btn { padding: .45rem .6rem; font-size: .9rem; }
    }
  </style>
</head>
<body>
  <div class="wrap">
    <!-- Tab Cloak Bar -->
    <div class="bar">
      <span class="brand">
        <img src="icon.png" alt="App icon" />
        Math Help
      </span>

      <button class="btn" data-title="Calculator" data-favicon="favicon-calculator.png">Calculator</button>
      <button class="btn" data-title="Google" data-favicon="favicon-google.png">Google</button>
      <button class="btn" data-title="Lexia Core 5" data-favicon="favicon-lexia.png">Lexia Core 5</button>
      <button class="btn" data-title="Google Classroom" data-favicon="favicon-google_classroom.png">Google Classroom</button>
      <button class="btn" data-title="Schoology" data-favicon="favicon-schoology.png">Schoology</button>

      <button class="btn clear" id="clearCloak">Clear</button>

      <span class="hint">Change tab title + icon. “Clear” restores defaults.</span>
    </div>

    <!-- Your Wix page -->
    <iframe src="https://videogamenerds.wixstudio.com/math-help" title="Math Help"></iframe>
  </div>

  <script>
    // Default tab settings
    const DEFAULT_TITLE = "Math Help";
    const DEFAULT_ICON  = "icon.png";

    // Get or create a <link rel="icon"> element we can swap
    function getFaviconLink() {
      let link = document.querySelector('link[rel="icon"]');
      if (!link) {
        link = document.createElement('link');
        link.rel = 'icon';
        link.type = 'image/png';
        document.head.appendChild(link);
      }
      return link;
    }

    function setTab(title, iconHref) {
      document.title = title;
      const link = getFaviconLink();
      link.href = iconHref;
    }

    function clearTab() {
      setTab(DEFAULT_TITLE, DEFAULT_ICON);
    }

    // Wire up cloak buttons
    document.querySelectorAll('.btn[data-title]').forEach(btn => {
      btn.addEventListener('click', () => {
        const t = btn.getAttribute('data-title');
        const f = btn.getAttribute('data-favicon');
        setTab(t, f);
      });
    });

    document.getElementById('clearCloak').addEventListener('click', clearTab);

    // Ensure defaults on first load
    clearTab();
  </script>
</body>
</html>
